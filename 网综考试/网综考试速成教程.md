# 网综
## 序言
-  这门科目的实践考试，主要在于最终模拟器使用熟练度，所以和平时的物理设备实验的掌握程度没有特别大的联系，之前实验课划水的同学不必过于担心。
-  不好听的事情是，不练习肯定是不行的。
-  所以，本文档旨在帮助同学们在尽快短的时间里掌握网综考试的要点，把这个1.5学分的纸老虎干掉。
## 考试试卷结构
1. 目前的操作题考试，分为组网(80分)+链路协议验证/防火墙(20分)两大部分，若全网ping通给老师检查后则拿到80分，继续做后一部分验证或防火墙的题目，做完后保持模拟器状态即可离开考场。
2. 每一题考察的知识点不会全考，一般是ospf+rip+防火墙/全静态路由+ppp pap+ppp chap/ospf+rip+ppp pap+ppp chap，所以时间很充分，做的时候不用着急。
3. 参考试卷和代码会放到GitHub上供大家参考。  <https://github.com/StuGRua/ToBeSatellite/tree/master/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95>
## 考试的考察点
1. 拓扑结构的复述和设计：  
    - 题目会给出要求实现的网络拓扑图，我们要做的就是把它画到答题卡上，给它标注出设备对应的**IP地址+子网掩码**，并且把图和模拟器的设备对应起来实现。    
    - 简单举个例子：  
    <img src="https://github.com/StuGRua/ToBeSatellite/raw/master/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95%E9%BB%91%E7%99%BD%E9%A2%98/1.png"> 

    - 本题中，此步骤我们需要做的事情就是：  
        ①路由器/交换机之间的网络划分为内网段(192.0.x.x)  
        ②PC机划分为外网段(202.0.x.x)   
        ③PC机的缺省网关即所连接路由器/交换机的接口的IP地址（如题中PC1 (202.0.0.2/24)连接L3SW1的Vlan1-GE0/2 (202.0.0.1/24)，则对于PC1来说，网关为202.0.0.1）

    - 所以画出来应该是这样的：  
    <img src="https://github.com/StuGRua/ToBeSatellite/raw/master/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95%E9%BB%91%E7%99%BD%E9%A2%98/test1.jpg">    

    - 对应的模拟器里面网络的构造是这样的：  
    <img src="https://github.com/StuGRua/ToBeSatellite/raw/master/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95%E9%BB%91%E7%99%BD%E9%A2%98/test1_tp.jpg">    

    - 注意一下，这一步中**设备名字需要更改成题目要求的名字**，如果**在启动状态下，名字是无法更改的**！  
    - 好啦，至此第一步的分应该拿到了。  

2. 启动设备，按照答题卡上的拓扑图严格实现各个网络接口的连接：   
   -  PC机配置时需要：接口管理：启用->IPv4配置：IP地址，子网掩码，IPv4网关。PC机的缺省网关即所连接路由器/交换机的接口的IP地址（如题中PC1 (202.0.0.2/24)连接L3SW1的Vlan1-GE0/2 (202.0.0.1/24)，则对于PC1来说，网关为202.0.0.1）  
   <img src="https://github.com/StuGRua/ToBeSatellite/raw/master/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%BC%E8%80%83%E8%AF%95%E9%BB%91%E7%99%BD%E9%A2%98/test1_pc.png">    
   
   - 对于交换机的接口IP地址的设置，需要：创建vlan(若为vlan1则无需创建)->接口加入到vlan中->调整该vlan对应的vlan接口的IP地址。  
   以上面的考试题的VLAN2为例：  
       ```
       [L3SW1]vlan 2
       [L3SW1-vlan2]port GigabitEthernet 1/0/3
       [L3SW1]int Vlan-interface 2
       [L3SW1-Vlan-interface2]ip address 202.0.1.1 24
       ```
   - 路由器的设置就很简单啦，不再赘述了。  

3. 链路聚合
4. 静态路由
5. RIP
6. OSPF
7. HDLC
8. PPP PAP/CHAP
   
## 附录：完整代码
```
#L3SW1
<H3C>sys
[H3C]sysname L3SW1
[L3SW1]int Vlan-interface 1
[L3SW1-Vlan-interface1]ip address 202.0.0.1 24

[L3SW1]vlan 2
[L3SW1-vlan2]port GigabitEthernet 1/0/3

[L3SW1]int Vlan-interface 2
[L3SW1-Vlan-interface2]ip address 202.0.1.1 24

[L3SW1]vlan 5
[L3SW1-vlan5]port GigabitEthernet 1/0/1

[L3SW1]interface Vlan-interface 5
[L3SW1-Vlan-interface5]ip add 192.0.0.1 24

[L3SW1]ospf
[L3SW1-ospf-1]area 0
[L3SW1-ospf-1-area-0.0.0.0]network 0.0.0.0 0.0.0.0

#L3SW2
<H3C>sys
[H3C]sysname L3SW2

[L3SW2]vlan 5
[L3SW2-vlan5]port GigabitEthernet 1/0/1
[L3SW2]interface Vlan-interface 5
[L3SW2-Vlan-interface5]ip address 192.0.0.2 24

[L3SW2]vlan 3
[L3SW2-vlan3]port GigabitEthernet 1/0/3
[L3SW2]interface Vlan-interface 3
[L3SW2-Vlan-interface3]ip add 202.0.2.1 24

[L3SW2]vlan 4
[L3SW2-vlan4]port GigabitEthernet 1/0/2
[L3SW2]interface Vlan-interface 4
[L3SW2-Vlan-interface4]ip address 192.0.1.1 24

[L3SW2]ospf
[L3SW2-ospf-1]area 0
[L3SW2-ospf-1-area-0.0.0.0]network 192.0.0.2 0.0.0.255
[L3SW2-ospf-1-area-0.0.0.0]network 202.0.2.1 0.0.0.255
[L3SW2-ospf-1-area-0.0.0.0]quit
[L3SW2-ospf-1]import-route direct
[L3SW2-ospf-1]import-route rip

[L3SW2]rip
[L3SW2-rip-1]network 192.0.1.1
[L3SW2-rip-1]network 202.0.2.1
[L3SW2-rip-1]import-route ospf
[L3SW2-rip-1]import-route direct

#RT1
<H3C>sys
[H3C]sysname RT1

[RT1]interface GigabitEthernet 0/1
[RT1-GigabitEthernet0/1]ip add
[RT1-GigabitEthernet0/1]ip address 202.0.3.2 24

[RT1]interface GigabitEthernet 0/2
[RT1-GigabitEthernet0/2]ip address 192.0.1.2 24

[RT1]rip
[RT1-rip-1]network 0.0.0.0
[RT1-rip-1]import-route direct

#ACL防火墙部分
[RT1]acl advanced 3001 match-order auto
[RT1-acl-ipv4-adv-3001]rule deny ip source 202.0.2.2 0 destination 192.0.1.2 0

[RT1]acl advanced 3002 match-order auto
[RT1-acl-ipv4-adv-3002]rule deny ip source 192.0.1.2 0 destination 202.0.2.2 0

[RT1]interface GigabitEthernet 0/2
[RT1-GigabitEthernet0/2]packet-filter 3001 inbound
[RT1-GigabitEthernet0/2]packet-filter 3002 outbound

```

## 作者的碎碎念
- 我们在这个课程中学了具体网络怎么运作起来的，各个协议背后稍微浅显易懂的知识是什么，我们平时运用的网络结构中，各种协议是大概是怎么运作的，扮演了什么角色。当然，这是好的，我只是觉得，要是能和计网同步上课，对我们知识体系的构建或许才是最有用的，而不是仅仅像现在一样，变成我们的一个基础知识已经遗忘了大半的实验课。
- 记得要多练几道题，最后祝大家考出好成绩吧！
- 如果有什么建议和疑问的话，联系我吧~  
<img src="https://github.com/StuGRua/ToBeSatellite/raw/master/QRcode.jpg" width=20%> 